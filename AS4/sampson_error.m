function [ error ] = sampson_error( x_1 , x_2 , H )

error=[];
for i=1:size(x_1,1)
    Ah=[-(x_1(i,1)*H(2,1)+x_1(i,2)*H(2,2)+H(2,3))+x_2(i,2)*(x_1(i,1)*H(3,1)+x_1(i,2)*H(3,2)+H(3,3));...
        x_1(i,1)*H(1,1)+x_1(i,2)*H(1,2)+H(1,3)-x_2(i,1)*(x_1(i,1)*H(3,1)+x_1(i,2)*H(3,2)+H(3,3))];
    J=[-H(2,1)+x_2(i,2)*H(3,1) -H(2,2)+x_2(i,2)*H(3,2) 0 x_1(i,1)*H(3,1)+x_1(i,2)*H(3,2)+H(3,3);...
        H(1,1)-x_2(i,1)*H(3,1) H(1,2)-x_2(i,1)*H(3,2) -(x_1(i,1)*H(3,1)+x_1(i,2)*H(3,2)+H(3,3)) 0];
    tmp=Ah'*inv(J*J')*Ah;
    error=[error;tmp];
end;

end

